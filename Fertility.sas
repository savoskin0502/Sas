data fertil;
	input season age diseases seriousAccidents intervention fevers frequency habit sitting diagnostic$;
datalines;
-0.33 0.69 0 1 1 0 0.8 0 0.88 N
-0.33 0.94 1 0 1 0 0.8 1 0.31 O
-0.33 0.5 1 0 0 0 1 -1 0.5 N
-0.33 0.75 0 1 1 0 1 -1 0.38 N
-0.33 0.67 1 1 0 0 0.8 -1 0.5 O
-0.33 0.67 1 0 1 0 0.8 0 0.5 N
-0.33 0.67 0 0 0 -1 0.8 -1 0.44 N
-0.33 1 1 1 1 0 0.6 -1 0.38 N
1 0.64 0 0 1 0 0.8 -1 0.25 N
1 0.61 1 0 0 0 1 -1 0.25 N
1 0.67 1 1 0 -1 0.8 0 0.31 N
1 0.78 1 1 1 0 0.6 0 0.13 N
1 0.75 1 1 1 0 0.8 1 0.25 N
1 0.81 1 0 0 0 1 -1 0.38 N
1 0.94 1 1 1 0 0.2 -1 0.25 N
1 0.81 1 1 0 0 1 1 0.5 N
1 0.64 1 0 1 0 1 -1 0.38 N
1 0.69 1 0 1 0 0.8 -1 0.25 O
1 0.75 1 1 1 0 1 1 0.25 N
1 0.67 1 0 0 0 0.8 1 0.38 O
1 0.67 0 0 1 0 0.8 -1 0.25 N
1 0.75 1 0 0 0 0.6 0 0.25 N
1 0.67 1 1 0 0 0.8 -1 0.25 N
1 0.69 1 0 1 -1 1 -1 0.44 O
1 0.56 1 0 1 0 1 -1 0.63 N
1 0.67 1 0 0 0 1 -1 0.25 N
1 0.67 1 0 1 0 0.6 -1 0.38 O
1 0.78 1 1 0 1 0.6 -1 0.38 O
1 0.58 0 0 1 0 1 -1 0.19 N
1 0.67 0 0 1 0 0.6 0 0.5 O
1 0.61 1 0 1 0 1 -1 0.63 N
1 0.56 1 0 0 0 1 -1 0.44 N
1 0.64 0 0 0 0 1 -1 0.63 N
1 0.58 1 1 1 0 0.8 0 0.44 N
1 0.56 1 1 1 0 1 -1 0.63 N
-1 0.78 1 1 0 1 0.6 -1 0.38 N
-1 0.78 1 0 1 0 1 -1 0.25 N
-1 0.56 1 0 1 0 1 -1 0.63 N
-1 0.67 0 0 1 0 0.6 0 0.5 O
-1 0.69 1 0 0 0 1 -1 0.31 N
-1 0.53 1 1 1 0 0.8 1 0.5 N
-1 0.56 1 1 0 0 0.8 1 0.5 N
-1 0.58 1 0 1 -1 0.8 1 0.5 N
-1 0.56 1 0 0 0 1 -1 0.44 N
-1 0.53 1 1 0 1 1 0 0.31 N
-1 0.53 1 0 0 1 1 0 0.44 N
-0.33 0.56 1 0 0 0 1 -1 0.63 N
-0.33 0.72 1 1 0 0 0.6 1 0.19 N
-0.33 0.64 1 1 1 0 0.8 -1 0.31 N
-0.33 0.75 1 1 1 0 0.6 -1 0.19 N
-0.33 0.67 1 0 1 0 0.8 -1 0.19 N
-0.33 0.53 1 1 0 1 1 -1 0.75 N
-0.33 0.53 1 1 0 0 0.8 0 0.5 N
-0.33 0.58 1 1 1 -1 0.8 0 0.19 N
-0.33 0.61 1 0 1 0 1 -1 0.63 N
-0.33 0.58 1 0 1 0 0.8 1 0.19 N
-0.33 0.53 1 1 0 0 0.8 0 0.75 N
-0.33 0.69 1 1 1 -1 1 -1 0.75 N
-0.33 0.56 1 1 0 0 0.4 1 0.63 N
1 0.58 0 0 0 1 0.8 1 0.44 N
1 0.56 0 0 0 1 0.8 0 1 N
-1 0.64 1 0 0 1 1 1 0.25 N
-1 0.61 1 1 1 0 0.6 -1 0.38 N
-1 0.56 1 0 0 1 1 -1 0.5 N
-1 0.53 1 0 0 1 0.8 -1 0.31 N
-0.33 0.56 0 0 1 0 1 -1 0.56 N
-0.33 0.5 1 1 0 -1 0.8 0 0.88 N
-0.33 0.5 1 0 0 1 1 -1 0.47 N
-0.33 0.5 1 0 0 1 0.8 0 0.31 N
-0.33 0.5 1 0 1 -1 0.8 -1 0.5 N
-0.33 0.5 1 1 0 -1 0.8 0 0.88 O
0.33 0.69 1 0 0 1 1 -1 0.31 N
1 0.56 1 0 0 1 0.6 0 0.5 N
-1 0.5 1 0 0 1 0.8 -1 0.44 N
-1 0.53 1 0 0 1 0.8 -1 0.63 N
-1 0.78 1 0 1 1 1 1 0.25 N
-1 0.75 1 0 1 1 0.6 0 0.56 N
-1 0.72 1 1 1 1 0.8 -1 0.19 N
-1 0.53 1 1 0 1 0.8 -1 0.38 N
-1 1 1 0 1 1 0.6 0 0.25 N
-0.33 0.92 1 1 0 1 1 -1 0.63 N
-1 0.81 1 1 1 1 0.8 0 0.19 N
-0.33 0.92 1 0 0 1 0.6 -1 0.19 N
-0.33 0.86 1 1 1 1 1 -1 0.25 N
-0.33 0.78 1 0 0 1 1 1 0.06 O
-0.33 0.89 1 1 0 0 0.6 1 0.31 N
-0.33 0.75 1 1 1 0 0.6 1 0.25 N
-0.33 0.75 1 1 1 1 0.8 1 0.25 N
-0.33 0.83 1 1 1 0 1 -1 0.31 N
-0.33 0.81 1 1 1 0 1 1 0.38 N
-0.33 0.81 1 1 1 1 0.8 -1 0.38 N
0.33 0.78 1 0 0 0 1 1 0.06 N
0.33 0.75 1 1 0 0 0.8 -1 0.38 N
0.33 0.75 1 0 1 0 0.8 -1 0.44 O
1 0.58 1 0 0 0 0.6 1 0.5 N
-1 0.67 1 0 0 0 1 -1 0.5 N
-1 0.61 1 0 0 0 0.8 0 0.5 N
-1 0.67 1 1 1 0 1 -1 0.31 N
-1 0.64 1 0 1 0 1 0 0.19 N
-1 0.69 0 1 1 0 0.6 -1 0.19 N
;
run;

proc anova data=fertil;
	class sitting;
	model frequency=sitting;
	run;
quit;

proc anova data=fertil;
	class age;
	model frequency=age;
	means age / tukey lines;
	run;
quit;

proc glm data=fertil;
	class age season diagnostic seriousAccidents diseases;
	model frequency=age*season age*diagnostic age*seriousAccidents age*diseases 
		season*diagnostic season*seriousAccidents season*diseases 
		diagnostic*seriousAccidents diagnostic*diseases seriousAccidents*diseases/ ss1 ss3;
run;


proc glm data=fertil;
	class age seriousAccidents diagnostic;
	model frequency=age*seriousAccidents*diagnostic / ss1 ss3;
	lsmeans age*seriousAccidents*diagnostic / adjust=tukey pdiff=all alpha=0.05 cl;
quit;

proc logistic data=fertil plots=all;
	class seriousAccidents frequency habit;
	model diagnostic = frequency*habit seriousAccidents*frequency*habit seriousAccidents*frequency seriousAccidents*habit age seriousAccidents sitting/expb;
run;

ods graphics on;
proc logistic data=fertil plots =all;
	class frequency habit/ param=ref;
	model diagnostic(event='O')= frequency habit age/link=probit tech=fisher;
/* 	oddsratio frequency; */
/* 	oddsratio habit; */
/* 	oddsratio age; */
/* 	contrast 'Pairwise 0.2 vs 1' Frequency 0.2 1 / estimate=exp; */
/* 	contrast 'Pairwise 0.2 vs 0.8' Frequency 0.2 1 / estimate=exp; */
/* 	contrast 'Pairwise 0.2 vs 0.6' Frequency 0.2 1 / estimate=exp; */
/* 	contrast 'Pairwise 0.2 vs 0.4' Frequency 0.2 1 / estimate=exp; */
/* 	contrast 'Smoke Never vs Daily' Habit -1 1 / estimate=exp; */
/* 	contrast 'Smoke Never vs Occasional' Habit -1 0 / estimate=exp;	 */
/* 	contrast 'Smoke Occasional vs Daily' Habit 0 1 / estimate=exp;	 */
	effectplot / at(habit=all) noobs;
run;
ods graphics off;

/* Full probit Analyze is down */
/* Assume that on diagnostic influence is the next factors: age, sitting, seriousAccidents */
proc means data=fertil;
	var age sitting;
run;

proc freq data=fertil;
	tables seriousAccidents diagnostic diagnostic*seriousAccidents;
run;

proc sql;
	create table fertil1 as
	Select * From ferti where (frequency> 0.4);
run;

proc logistic data=fertil1;
	class seriousAccidents frequency/ param=ref;
	model diagnostic(event='O') = age sitting seriousAccidents frequency / link=probit;
	
run;

proc sql;
	create table fertil2 as
	Select * From fertil where (frequency> 0.4 and sitting<=0.5);
run;
ods graphics on;
proc logistic data=fertil2 plots=all descending;
	class seriousAccidents habit/ param=ref;
	model diagnostic(event='O') = age sitting seriousAccidents habit / link=probit tech=fisher;
/* 	contrast 'Frequency Never vs Weekly' frequency 1 0.8 /estimate=parm; */
	oddsratio seriousAccidents; 
/* 	effectplot / at(habit=all) noobs; */
	effectplot / at(habit=all);
	effectplot slicefit(sliceby=seriousAccidents plotby=habit) / noobs;
run;
ods graphics off;

ods graphics on;
proc logistic data=fertil plots =all;
	class habit/ param=ref;
	model diagnostic(event='O')= age sitting habit/link=probit;
run;
ods graphics off;

proc means data = work.mvreg;
  vars locus_of_control self_concept motivation read write science;
run;

proc freq data = work.mvreg;
  table prog;
run;

proc corr data = work.mvreg nosimple;
  var locus_of_control self_concept motivation;
run;

proc corr data = work.mvreg nosimple;
  var read write science;
run;

proc glm data = work.mvreg;
  class prog;
  model locus_of_control self_concept motivation 
      = read write science prog / solution ss3;
  manova h=_ALL_;
run;
quit;

proc glm data = work.mvreg;
  class prog;
  model locus_of_control self_concept motivation 
    = read write science prog / solution ss3;
  manova h= _ALL_ ;
  estimate 'prog 1 vs. prog 2' prog 1 -1;
run;
quit;

proc glm data = work.mvreg;
  class prog  ;
  model locus_of_control self_concept motivation 
    = read write science prog / solution ss3;
  manova h= _ALL_ ;
  manova h=write m=locus_of_control - self_concept;
run;
quit;

